var currentBoard=$("#chessboardInput").val(),rows=currentBoard.match(/\n/g).length,cols=currentBoard.indexOf("\n");currentBoard=currentBoard.split(/\r\n|\r|\n/g).join("").replace(/ /g,"").split(""),$("#rowWidth").html(cols);for(var space=1,r=0;rows>r;r++){for(var col="",c=0;cols>c;c++)col+="x"==currentBoard[space-1]?"<td data-pos='"+space+"' class='gone'></td>":"B"==currentBoard[space-1]?"<td data-pos='"+space+"' class='bluePlayer firstBP'><span class='blueGoal'></span></td>":"R"==currentBoard[space-1]?"<td data-pos='"+space+"' class='redPlayer firstRP'><span class='redGoal'></span></td>":"M"==currentBoard[space-1]?"<td data-pos='"+space+"' class='teleBox'></td>":"m"==currentBoard[space-1]?"<td data-pos='"+space+"' class='teleBoxGOTO'><span class='greenGoal'></span></td>":"<td data-pos='"+space+"'></td>",space++;$("#chessboard").append("<tr>"+col+"</tr>")}